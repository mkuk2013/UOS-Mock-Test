<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
<link rel="icon" type="image/png" href="favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="favicon.svg" />
<link rel="shortcut icon" href="favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
<link rel="manifest" href="site.webmanifest" />
    <title>UOS Mock Test - Advanced Testing Platform</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- jsPDF Library for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
        * {
            font-family: 'Poppins', sans-serif;
        }
        
        /* Modern Color Palette */
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #0f172a;
            --accent: #f59e0b;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --surface: #ffffff;
            --background: #f8fafc;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border: #e2e8f0;
        }
        
        /* Modern Gradients */
        .gradient-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .gradient-hero {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
        }
        
        /* Modern Animations */
        @keyframes slide-in {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-slide-in { animation: slide-in 0.5s ease-out; }
        .animate-fade-in { animation: fade-in 0.6s ease-out; }
        
        /* Glass Morphism */
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Modern Card Design */
        .modern-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Question Navigation */
        .question-nav {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(45px, 1fr));
            gap: 8px;
            max-height: 200px;
            overflow-y: auto;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            backdrop-filter: blur(10px);
        }
        
        .question-nav-item {
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            font-weight: 600;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .question-nav-item.not-attempted {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
            border-color: rgba(255, 255, 255, 0.2);
        }
        
        .question-nav-item.answered {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border-color: #10b981;
        }
        
        .question-nav-item.current {
            background: linear-gradient(135deg, #6366f1, #4f46e5);
            color: white;
            border-color: #6366f1;
            transform: scale(1.1);
        }
        
        .question-nav-item:hover:not(.current) {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        /* Enhanced Option Styles */
        .option-container {
            display: grid;
            gap: 12px;
            margin-top: 24px;
        }
        
        .option-item {
            position: relative;
            padding: 16px 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: hidden;
        }
        
        .option-item:hover {
            border-color: rgba(99, 102, 241, 0.5);
            background: rgba(99, 102, 241, 0.1);
            transform: translateY(-2px);
        }
        
        .option-item.selected {
            border-color: #6366f1;
            background: rgba(99, 102, 241, 0.2);
        }
        
        .option-item input[type="radio"] {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }
        
        .option-label {
            display: flex;
            align-items: center;
            font-weight: 500;
            color: white; 
        }
        
        .option-marker {
            width: 24px;
            height: 24px;
            border: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            margin-right: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .option-item.selected .option-marker {
            border-color: white;
            background: white;
        }
        
        .option-item.selected .option-marker::after {
            content: '';
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #6366f1;
        }
        
        /* Modern Button Styles */
        .btn-modern {
            position: relative;
            overflow: hidden;
            border-radius: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
            color: white;
            padding: 14px 28px;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #64748b 0%, #475569 100%);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 12px 26px;
        }
        
        .btn-secondary:hover {
            background: linear-gradient(135deg, #475569 0%, #334155 100%);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(100, 116, 139, 0.4);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 14px 28px;
        }
        
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
        }

        .question-header h2 {
            color: white;
        }
        
        .main-timer {
            color: white;
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* --- LIGHT MODE STYLES --- */
        body.light-mode {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }
        
        body.light-mode .text-white,
        body.light-mode .text-white\/70,
        body.light-mode .text-white\/80 {
            color: var(--text-primary) !important;
        }
        
        body.light-mode .btn-primary,
        body.light-mode .btn-success,
        body.light-mode .gradient-primary .text-white,
        body.light-mode .question-nav-item.answered,
        body.light-mode .question-nav-item.current,
        body.light-mode .review-indicator,
        body.light-mode .option-item.selected .option-marker::after {
            color: white !important;
        }
        
        body.light-mode .glass {
            background: rgba(255, 255, 255, 0.8);
            border-color: rgba(0, 0, 0, 0.1);
        }
        
        body.light-mode .modern-card {
            background: rgba(255, 255, 255, 0.95);
            border-color: rgba(0, 0, 0, 0.1);
            color: var(--text-primary);
        }
        
        body.light-mode .question-nav {
            background: rgba(255, 255, 255, 0.3);
        }
        
        body.light-mode .question-nav-item.not-attempted {
            background: rgba(0, 0, 0, 0.1);
            color: var(--text-secondary);
            border-color: rgba(0, 0, 0, 0.2);
        }
        
        body.light-mode .option-label {
            color: var(--text-primary);
        }

        body.light-mode .option-item {
            border-color: rgba(0, 0, 0, 0.2);
            background: rgba(255, 255, 255, 0.8);
        }
        
        body.light-mode .option-marker {
            border-color: rgba(0, 0, 0, 0.5);
        }
        
        body.light-mode .option-item.selected {
            border-color: var(--primary);
            background: rgba(99, 102, 241, 0.2);
        }
        
        body.light-mode .option-item.selected .option-label {
             color: var(--text-primary);
        }
        
        body.light-mode .option-item.selected .option-marker {
            border-color: var(--primary);
            background: var(--primary);
        }

        body.light-mode .question-header h2 {
            color: var(--text-primary);
        }

        body.light-mode .main-timer {
            color: red; /* Changed to red */
            background-color: #e2e8f0;
        }
        
        body.light-mode .btn-secondary {
            background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%);
            color: var(--text-primary);
            border-color: rgba(0, 0, 0, 0.3);
        }
        
        body.light-mode .btn-secondary:hover {
            background: linear-gradient(135deg, #cbd5e1 0%, #94a3b8 100%);
            border-color: rgba(0, 0, 0, 0.5);
        }
        
        /* --- DARK MODE SUPPORT (Default) --- */
        body.dark-mode {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
        }
        
        body.dark-mode .modern-card {
            background: rgba(30, 41, 59, 0.95);
            border-color: rgba(255, 255, 255, 0.1);
        }
        
        body.dark-mode .main-timer {
            color: red; /* Changed to red */
        }

        /* --- REVIEW MODE STYLES --- */
        .review-mode .option-item.correct {
            border-color: var(--success);
            background: rgba(16, 185, 129, 0.2);
        }
        
        .review-mode .option-item.incorrect {
            border-color: var(--error);
            background: rgba(239, 68, 68, 0.2);
        }
        
        .review-mode .option-item.user-answer {
            border-color: var(--warning);
            background: rgba(245, 158, 11, 0.2);
        }
        
        .review-mode .option-item.not-attempted-option {
            border-color: #94a3b8;
            background: rgba(148, 163, 184, 0.2);
        }
        
        body.light-mode .review-mode .option-label {
            color: var(--text-primary);
        }
        
        .review-indicator {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }
        
        .review-indicator.correct { background: var(--success); color: white; }
        .review-indicator.incorrect { background: var(--error); color: white; }
        .review-indicator.user-answer { background: var(--warning); color: white; }
        .review-indicator.not-attempted { background: #94a3b8; color: white; }
        
        /* Not Attempted Message */
        .not-attempted-message {
            text-align: center;
            padding: 20px;
            background: rgba(148, 163, 184, 0.1);
            border: 2px dashed #94a3b8;
            border-radius: 16px;
            margin-top: 24px;
            color: #9ca3af;
            font-style: italic;
        }
        
        body.light-mode .not-attempted-message {
            background: rgba(148, 163, 184, 0.1);
            color: var(--text-secondary);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .question-nav { grid-template-columns: repeat(auto-fit, minmax(40px, 1fr)); }
            .question-nav-item { width: 40px; height: 40px; font-size: 0.75rem; }
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.1); border-radius: 4px; }
        ::-webkit-scrollbar-thumb { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: linear-gradient(135deg, #4f46e5 0%, #5b21b6 100%); }

        /* Print Styles */
        @media print {
            /* Hide buttons and interactive elements */
            #reviewAnswersBtn,
            #restartTestBtn,
            #printResultBtn {
                display: none !important;
            }
            
            /* Show answer review section in print */
            #answerReviewSection {
                display: block !important;
                page-break-before: always;
            }
            
            /* Ensure good print layout */
            .modern-card {
                box-shadow: none;
                border: 1px solid #ccc;
                margin: 0;
                padding: 20px;
            }
            
            /* Optimize colors for print */
            body {
                background: white !important;
                color: black !important;
                font-size: 12px;
                line-height: 1.4;
            }
            
            .gradient-primary {
                background: #6366f1 !important;
                color: white !important;
            }
            
            /* Hide background gradients */
            .gradient-hero,
            .glass {
                background: white !important;
            }
            
            /* Page breaks */
            .question-review-item {
                page-break-inside: avoid;
                margin-bottom: 15px;
            }
            
            /* Header styling for PDF */
            .pdf-header {
                text-align: center;
                margin-bottom: 30px;
                border-bottom: 2px solid #333;
                padding-bottom: 15px;
            }
            
            /* Result summary styling */
            .result-summary {
                border: 2px solid #333;
                padding: 20px;
                margin-bottom: 30px;
                background: #f9f9f9;
            }
        }
        
        /* PDF Content Styles */
        .pdf-content {
            display: none;
            font-family: 'Poppins', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            color: black;
        }
        
        .pdf-content.show {
            display: block;
        }

        /* Custom Modal Styles */
        .custom-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .custom-modal.show {
            opacity: 1;
            visibility: visible;
        }
        .custom-modal-content {
            background: white;
            padding: 2rem;
            border-radius: 1rem;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            transform: translateY(-20px);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        .custom-modal.show .custom-modal-content {
            transform: translateY(0);
            opacity: 1;
        }
        .custom-modal-content h3 {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }
        .custom-modal-content p {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
        }
        .custom-modal-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }
    </style>
</head>
<body class="min-h-screen">
    
    <div id="passwordScreen" class="fixed inset-0 gradient-hero flex items-center justify-center z-50">
        <div class="modern-card p-8 max-w-md w-full mx-4 text-center animate-fade-in">
            <div class="w-20 h-20 gradient-primary rounded-full flex items-center justify-center mx-auto mb-6">
                <i data-lucide="lock" class="w-10 h-10 text-white"></i>
            </div>
            <h2 class="text-2xl font-bold text-white mb-2">Secure Test Access</h2>
            <p class="text-white/80 mb-6">Enter your test password to begin the mock examination</p>
            <div class="space-y-4">
                <input type="password" id="passwordInput" 
                       class="w-full p-4 border-2 bg-transparent text-white border-gray-500 rounded-xl focus:outline-none focus:border-indigo-400 transition-colors placeholder-gray-400" 
                       placeholder="Enter test password">
                <button id="startButton" class="btn-modern btn-primary w-full">
                    <i data-lucide="play-circle" class="w-5 h-5 mr-2"></i>
                    Start Mock Test
                </button>
            </div>
            <p id="passwordError" class="text-red-400 mt-4 hidden">
                <i data-lucide="alert-circle" class="w-4 h-4 inline mr-1"></i>
                Incorrect password. Please try again.
            </p>
        </div>
    </div>

    <div id="testInterface" class="hidden">
        <header class="glass fixed w-full top-0 z-40 py-4">
            <div class="container mx-auto px-6">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <!-- Logo updated to uos-logo.png -->
                        <img src="uos-logo.png" alt="UOS Logo" class="w-10 h-10 rounded-full"> 
                        <div>
                            <h1 class="text-lg font-bold text-white">UOS Mock Test</h1>
                            <p class="text-sm text-white/70">Batch 2k26 - Test 3</p>
                        </div>
                    </div>
                    
                    <button id="themeToggle" class="p-2 rounded-full bg-white/20 text-white hover:bg-white/30 transition-colors">
                        <i data-lucide="moon" class="w-4 h-4"></i>
                    </button>
                </div>
            </div>
        </header>

        <main class="pt-24 pb-8">
            <div class="container mx-auto px-6">
                <div class="grid lg:grid-cols-4 gap-8">
                    
                    <div class="lg:col-span-3">
                        <div class="modern-card p-8 animate-fade-in">
                            <div class="question-header flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 gradient-primary rounded-full flex items-center justify-center flex-shrink-0">
                                        <span class="text-white font-bold" id="questionNumber">1</span>
                                    </div>
                                    <div>
                                        <h2 class="text-xl font-bold" id="questionTitle">Question 1 of 100</h2>
                                        <p class="text-sm text-gray-500" id="questionSubject">English - Grammar</p>
                                    </div>
                                </div>
                                <div id="mainTimer" class="main-timer text-lg font-bold flex items-center py-2 px-4 rounded-lg">
                                     <i data-lucide="clock" class="w-5 h-5 mr-2"></i>
                                     <span id="timerText">Time Left: 01h:30m:00s</span>
                                </div>
                            </div>
                            
                            <div class="bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-xl mb-6 border-l-4 border-indigo-500">
                                <p id="questionText" class="text-lg leading-relaxed text-gray-800">
                                    Choose the correct synonym for the word "abundant":
                                </p>
                            </div>
                            
                            <div class="option-container" id="optionsContainer">
                                </div>
                            
                            <div class="flex items-center justify-between mt-8">
                                <button id="prevButton" class="btn-modern btn-secondary" disabled>
                                    <i data-lucide="chevron-left" class="w-4 h-4 mr-2"></i>
                                    Previous
                                </button>
                                
                                <div class="flex items-center space-x-4">
                                    <button id="clearButton" class="btn-modern btn-secondary">
                                        <i data-lucide="x-circle" class="w-4 h-4 mr-2"></i>
                                        Clear
                                    </button>
                                    <button id="nextButton" class="btn-modern btn-primary">
                                        Next
                                        <i data-lucide="chevron-right" class="w-4 h-4 ml-2"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="lg:col-span-1">
                        <div class="glass rounded-2xl p-6 mb-6 animate-slide-in">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-bold text-white flex items-center">
                                    <i data-lucide="grid-3x3" class="w-5 h-5 mr-2"></i>
                                    Questions
                                </h3>
                                <button id="submitTestBtn" class="btn-modern btn-success text-sm px-4 py-2">
                                    <i data-lucide="send" class="w-4 h-4 mr-1"></i>
                                    Submit
                                </button>
                            </div>
                            
                            <div class="grid grid-cols-3 gap-2 mb-4 text-xs">
                                <div class="flex items-center text-white/70">
                                    <div class="w-3 h-3 bg-white/20 rounded mr-2"></div>
                                    <span>Not Attempted</span>
                                </div>
                                <div class="flex items-center text-white/70">
                                    <div class="w-3 h-3 bg-green-500 rounded mr-2"></div>
                                    <span>Answered</span>
                                </div>
                                <div class="flex items-center text-white/70">
                                    <div class="w-3 h-3 bg-indigo-500 rounded mr-2"></div>
                                    <span>Current</span>
                                </div>
                            </div>
                            
                            <div class="question-nav" id="questionNav">
                                </div>
                        </div>
                        
                        <div class="glass rounded-2xl p-6 animate-slide-in" style="animation-delay: 0.2s;">
                            <h3 class="text-lg font-bold text-white mb-4 flex items-center">
                                <i data-lucide="bar-chart-3" class="w-5 h-5 mr-2"></i>
                                Progress
                            </h3>
                            <div class="space-y-4">
                                <div class="flex justify-between items-center">
                                    <span class="text-white/70">Answered</span>
                                    <span class="text-white font-bold" id="progressAnswered">0/100</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-white/70">Remaining</span>
                                    <span class="text-white font-bold" id="progressRemaining">100</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-white/70">Completion</span>
                                    <span class="text-white font-bold" id="progressPercentage">0%</span>
                                </div>
                                
                                <div class="w-full bg-white/20 rounded-full h-2">
                                    <div class="bg-gradient-to-r from-green-400 to-blue-500 h-2 rounded-full transition-all duration-500" 
                                         id="progressBar" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div id="resultModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 hidden">
        <div class="modern-card p-8 max-w-2xl w-full mx-4 text-center animate-fade-in">
            <div class="w-20 h-20 gradient-primary rounded-full flex items-center justify-center mx-auto mb-6">
                <i data-lucide="trophy" class="w-10 h-10 text-white"></i>
            </div>
            <h2 class="text-3xl font-bold text-gray-800 mb-4" id="resultTitle">Test Completed!</h2>
            <p class="text-gray-600 mb-8" id="resultMessage">Congratulations on completing the mock test. Here are your results:</p>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                <div class="text-center p-4 bg-green-50 rounded-xl">
                    <div class="text-2xl font-bold text-green-600" id="correctAnswers">0</div>
                    <div class="text-sm text-green-700">Correct</div>
                </div>
                <div class="text-center p-4 bg-red-50 rounded-xl">
                    <div class="text-2xl font-bold text-red-600" id="incorrectAnswers">0</div>
                    <div class="text-sm text-red-700">Incorrect</div>
                </div>
                <div class="text-center p-4 bg-gray-50 rounded-xl">
                    <div class="text-2xl font-bold text-gray-600" id="notAttempted">0</div>
                    <div class="text-sm text-gray-700">Not Attempted</div>
                </div>
                <div class="text-center p-4 bg-blue-50 rounded-xl">
                    <div class="text-2xl font-bold text-blue-600" id="finalScore">0%</div>
                    <div class="text-sm text-blue-700">Score</div>
                </div>
            </div>
            
            <div id="qualificationStatus" class="mb-6 p-4 rounded-xl">
                </div>
            
            <!-- Answer Review Section for Print -->
            <div id="answerReviewSection" class="hidden mt-8 p-6 bg-gray-50 rounded-xl">
                <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                    <i data-lucide="book-open" class="w-5 h-5 mr-2"></i>
                    Answer Review
                </h3>
                <div id="answerReviewContent">
                    <!-- Answer review content will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <button id="reviewAnswersBtn" class="btn-modern btn-secondary">
                    <i data-lucide="eye" class="w-4 h-4 mr-2"></i>
                    Review Answers
                </button>
                <button id="restartTestBtn" class="btn-modern btn-primary">
                    <i data-lucide="refresh-cw" class="w-4 h-4 mr-2"></i>
                    Restart Test
                </button>
                <button id="printResultBtn" class="btn-modern btn-success">
                    <i data-lucide="printer" class="w-4 h-4 mr-2"></i>
                    Print Result
                </button>
            </div>
        </div>
    </div>

    <!-- Hidden PDF Content Container -->
    <div id="pdfContent" class="pdf-content">
        <div class="pdf-header">
            <h1 style="color: #6366f1; font-size: 24px; margin: 0;">UOS Mock Test - Results Report</h1>
            <p style="margin: 5px 0;">Batch 2k26 - Test 3</p>
            <p style="margin: 5px 0; font-size: 14px; color: #666;">Generated on: <span id="pdfDate"></span></p>
        </div>
        
        <div class="result-summary">
            <h2 style="color: #333; margin-top: 0;">Test Summary</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                <div>
                    <p><strong>Total Questions:</strong> 100</p>
                    <p><strong>Correct Answers:</strong> <span id="pdfCorrect">0</span></p>
                    <p><strong>Incorrect Answers:</strong> <span id="pdfIncorrect">0</span></p>
                </div>
                <div>
                    <p><strong>Not Attempted:</strong> <span id="pdfNotAttempted">0</span></p>
                    <p><strong>Final Score:</strong> <span id="pdfScore">0%</span></p>
                    <p><strong>Status:</strong> <span id="pdfStatus">-</span></p>
                </div>
            </div>
            <div id="pdfQualificationStatus" style="text-align: center; font-weight: bold; padding: 10px; border: 2px solid; border-radius: 8px;"></div>
        </div>
        
        <div id="pdfAnswerReview">
            <h2 style="color: #333; margin-bottom: 20px;">Detailed Answer Review</h2>
            <div id="pdfReviewContent"></div>
        </div>
    </div>

    <div id="loadingModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 hidden">
        <div class="modern-card p-8 text-center max-w-sm mx-4">
            <div class="w-16 h-16 gradient-primary rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse">
                <i data-lucide="loader" class="w-8 h-8 text-white animate-spin"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">Processing...</h3>
            <p class="text-gray-600">Please wait while we prepare your results</p>
        </div>
    </div>

    <!-- Custom Confirmation Modal -->
    <div id="confirmationModal" class="custom-modal hidden">
        <div class="custom-modal-content modern-card">
            <h3 id="confirmationTitle"></h3>
            <p id="confirmationMessage"></p>
            <div class="custom-modal-buttons">
                <button id="confirmYes" class="btn-modern btn-primary">Yes</button>
                <button id="confirmNo" class="btn-modern btn-secondary">No</button>
            </div>
        </div>
    </div>
    
    <footer class="glass text-white/70 text-center py-4 px-6 mt-8">
        <p class="text-sm">&copy; 2025 Copyright UOS Mock Test Series</p>
        <p class="text-xs mt-1">Powered By <strong><a href="https://mock-test-hub.netlify.app">Mock Test Hub</a></strong></p>
    </footer>

    <script>
        $(document).ready(function() {
            // Initialize Lucide icons
            lucide.createIcons();

            // Test configuration
            const TEST_CONFIG = {
                password: "uostestbymk",
                totalQuestions: 100,
                timeLimit: 90 * 60, // 90 minutes in seconds
                subjects: ["English", "General Science", "General Knowledge", "Mathematics", "Intelligence"],
                minimumPassingPercentage: 25 // 25% minimum marks required
            };

            // Test state
            let currentQuestion = 0;
            let timeLeft = TEST_CONFIG.timeLimit;
            let userAnswers = Array(TEST_CONFIG.totalQuestions).fill(null);
            let questions = [];
            let timerInterval;
            let testStartTime;
            let isReviewMode = false;

            // Function to show custom confirmation modal
            function showConfirmationModal(title, message, onConfirm) {
                $('#confirmationTitle').text(title);
                $('#confirmationMessage').text(message);
                $('#confirmationModal').removeClass('hidden').addClass('show');
                
                $('#confirmYes').off('click').on('click', function() {
                    $('#confirmationModal').removeClass('show').addClass('hidden');
                    onConfirm(true);
                });
                
                $('#confirmNo').off('click').on('click', function() {
                    $('#confirmationModal').removeClass('show').addClass('hidden');
                    onConfirm(false);
                });
            }

            // Generate 100 dummy questions without a loop for initial generation
            function generateQuestions() {
                     questions = [
  {
    "id": 1,
    "subject": "English",
    "question": "Antonym of SUCCESS is __________?",
    "options": ["Failure", "Progress", "Victory", "Achievement"],
    "correct": 0
  },
  {
    "id": 2,
    "subject": "English",
    "question": "Choose the correctly spelled word:",
    "options": ["Occassion", "Occasion", "Ocasion", "Occassionn"],
    "correct": 1
  },
  {
    "id": 3,
    "subject": "English",
    "question": "The word 'benevolent' means?",
    "options": ["Kind", "Angry", "Cruel", "Harsh"],
    "correct": 0
  },
  {
    "id": 4,
    "subject": "English",
    "question": "Passive voice of: 'They are writing a letter'?",
    "options": [
      "A letter is written by them",
      "A letter was written by them",
      "A letter is being written by them",
      "A letter has been written by them"
    ],
    "correct": 2
  },
  {
    "id": 5,
    "subject": "English",
    "question": "Fill in the blank: He is good _____ mathematics.",
    "options": ["in", "at", "on", "for"],
    "correct": 1
  },
  {
    "id": 6,
    "subject": "English",
    "question": "Choose the synonym of 'Rapid':",
    "options": ["Slow", "Quick", "Late", "Weak"],
    "correct": 1
  },
  {
    "id": 7,
    "subject": "English",
    "question": "Identify the correct sentence:",
    "options": [
      "He do not like tea",
      "He does not likes tea",
      "He does not like tea",
      "He not like tea"
    ],
    "correct": 2
  },
  {
    "id": 8,
    "subject": "English",
    "question": "Antonym of 'Joy' is?",
    "options": ["Happiness", "Sadness", "Pleasure", "Excitement"],
    "correct": 1
  },
  {
    "id": 9,
    "subject": "English",
    "question": "Choose the correct article: She bought ___ orange.",
    "options": ["a", "an", "the", "no article"],
    "correct": 1
  },
  {
    "id": 10,
    "subject": "English",
    "question": "Choose the synonym of 'Ancient':",
    "options": ["Modern", "Old", "Recent", "Future"],
    "correct": 1
  },
  {
    "id": 11,
    "subject": "General Knowledge",
    "question": "The capital of Canada is?",
    "options": ["Toronto", "Ottawa", "Montreal", "Vancouver"],
    "correct": 1
  },
  {
    "id": 12,
    "subject": "General Knowledge",
    "question": "Which is the largest desert in the world?",
    "options": ["Sahara", "Gobi", "Kalahari", "Thar"],
    "correct": 0
  },
  {
    "id": 13,
    "subject": "General Knowledge",
    "question": "The currency of Japan is?",
    "options": ["Yuan", "Yen", "Won", "Ringgit"],
    "correct": 1
  },
  {
    "id": 14,
    "subject": "General Knowledge",
    "question": "The Great Wall of China was built mainly to protect from?",
    "options": ["Japanese", "Mongols", "Indians", "Russians"],
    "correct": 1
  },
  {
    "id": 15,
    "subject": "General Knowledge",
    "question": "Who invented the telephone?",
    "options": ["Thomas Edison", "Alexander Graham Bell", "Newton", "Marconi"],
    "correct": 1
  },
  {
    "id": 16,
    "subject": "General Knowledge",
    "question": "Mount Everest lies in which mountain range?",
    "options": ["Karakoram", "Himalayas", "Hindu Kush", "Andes"],
    "correct": 1
  },
  {
    "id": 17,
    "subject": "General Knowledge",
    "question": "World War II ended in which year?",
    "options": ["1942", "1943", "1944", "1945"],
    "correct": 3
  },
  {
    "id": 18,
    "subject": "General Knowledge",
    "question": "The United Nations headquarters is located in?",
    "options": ["Paris", "London", "New York", "Geneva"],
    "correct": 2
  },
  {
    "id": 19,
    "subject": "General Knowledge",
    "question": "The largest ocean in the world is?",
    "options": ["Atlantic", "Indian", "Pacific", "Arctic"],
    "correct": 2
  },
  {
    "id": 20,
    "subject": "General Knowledge",
    "question": "Which is the fastest land animal?",
    "options": ["Cheetah", "Lion", "Horse", "Tiger"],
    "correct": 0
  },
  {
    "id": 21,
    "subject": "Islamic Studies",
    "question": "How many Surahs in the Quran start with 'Alhamdulillah'?",
    "options": ["3", "4", "5", "6"],
    "correct": 1
  },
  {
    "id": 22,
    "subject": "Islamic Studies",
    "question": "The first Ghazwa of Islam was?",
    "options": ["Badr", "Uhud", "Tabuk", "Abwa"],
    "correct": 3
  },
  {
    "id": 23,
    "subject": "Islamic Studies",
    "question": "Which Surah is known as the Heart of the Quran?",
    "options": ["Yaseen", "Rahman", "Ikhlas", "Kahf"],
    "correct": 0
  },
  {
    "id": 24,
    "subject": "Islamic Studies",
    "question": "Hazrat Abu Hurairah (RA) is famous for?",
    "options": ["Bravery", "Wealth", "Narration of Hadith", "Governance"],
    "correct": 2
  },
  {
    "id": 25,
    "subject": "Islamic Studies",
    "question": "The last Surah revealed was?",
    "options": ["Surah Nasr", "Surah Kausar", "Surah Fatiha", "Surah Ikhlas"],
    "correct": 0
  },
  {
    "id": 26,
    "subject": "Islamic Studies",
    "question": "The treaty of Hudaibiya took place in?",
    "options": ["5 AH", "6 AH", "7 AH", "8 AH"],
    "correct": 1
  },
  {
    "id": 27,
    "subject": "Islamic Studies",
    "question": "Who was the first Hafiz of Quran?",
    "options": ["Abu Bakr (RA)", "Ali (RA)", "Prophet Muhammad (PBUH)", "Uthman (RA)"],
    "correct": 2
  },
  {
    "id": 28,
    "subject": "Islamic Studies",
    "question": "Which pillar of Islam is Fasting?",
    "options": ["1st", "2nd", "3rd", "4th"],
    "correct": 3
  },
  {
    "id": 29,
    "subject": "Islamic Studies",
    "question": "The word 'Zakat' literally means?",
    "options": ["Charity", "Purification", "Donation", "Prayer"],
    "correct": 1
  },
  {
    "id": 30,
    "subject": "Islamic Studies",
    "question": "The first Wahi was revealed in which month?",
    "options": ["Rajab", "Ramadan", "Shaban", "Safar"],
    "correct": 1
  },
  {
    "id": 31,
    "subject": "Pakistan Studies",
    "question": "Pakistan became a republic in?",
    "options": ["1947", "1956", "1962", "1973"],
    "correct": 1
  },
  {
    "id": 32,
    "subject": "Pakistan Studies",
    "question": "The National Anthem of Pakistan was composed by?",
    "options": ["Allama Iqbal", "Hafeez Jalandhari", "Ahmad G Chagla", "Josh Malihabadi"],
    "correct": 2
  },
  {
    "id": 33,
    "subject": "Pakistan Studies",
    "question": "Objective Resolution was passed in?",
    "options": ["1948", "1949", "1950", "1951"],
    "correct": 1
  },
  {
    "id": 34,
    "subject": "Pakistan Studies",
    "question": "The first Governor General of Pakistan was?",
    "options": ["Liaquat Ali Khan", "Muhammad Ali Jinnah", "Ayub Khan", "Nazimuddin"],
    "correct": 1
  },
  {
    "id": 35,
    "subject": "Pakistan Studies",
    "question": "Which is the national flower of Pakistan?",
    "options": ["Jasmine", "Rose", "Sunflower", "Tulip"],
    "correct": 0
  },
  {
    "id": 36,
    "subject": "Pakistan Studies",
    "question": "When did Pakistan win its first Cricket World Cup?",
    "options": ["1987", "1992", "1996", "1999"],
    "correct": 1
  },
  {
    "id": 37,
    "subject": "Pakistan Studies",
    "question": "The national poet of Pakistan is?",
    "options": ["Faiz Ahmad Faiz", "Allama Iqbal", "Hafeez Jalandhari", "Josh Malihabadi"],
    "correct": 1
  },
  {
    "id": 38,
    "subject": "Pakistan Studies",
    "question": "Which river is known as the lifeline of Pakistan?",
    "options": ["Jhelum", "Indus", "Chenab", "Ravi"],
    "correct": 1
  },
  {
    "id": 39,
    "subject": "Pakistan Studies",
    "question": "Karakoram Highway connects Pakistan with?",
    "options": ["India", "China", "Iran", "Afghanistan"],
    "correct": 1
  },
  {
    "id": 40,
    "subject": "Pakistan Studies",
    "question": "Which city is known as City of Gardens?",
    "options": ["Karachi", "Lahore", "Multan", "Peshawar"],
    "correct": 1
  },
  {
    "id": 41,
    "subject": "Mathematics",
    "question": "What is 12 × 8?",
    "options": ["96", "108", "88", "92"],
    "correct": 0
  },
  {
    "id": 42,
    "subject": "Mathematics",
    "question": "The square root of 144 is?",
    "options": ["10", "11", "12", "13"],
    "correct": 2
  },
  {
    "id": 43,
    "subject": "Mathematics",
    "question": "Simplify: 25 ÷ 5 × 2 = ?",
    "options": ["5", "10", "15", "20"],
    "correct": 1
  },
  {
    "id": 44,
    "subject": "Mathematics",
    "question": "If a triangle has sides 3, 4, 5 it is?",
    "options": ["Equilateral", "Isosceles", "Right-angled", "Scalene"],
    "correct": 2
  },
  {
    "id": 45,
    "subject": "Mathematics",
    "question": "What is 15% of 200?",
    "options": ["20", "25", "30", "35"],
    "correct": 2
  },
  {
    "id": 46,
    "subject": "Mathematics",
    "question": "Value of π (pi) up to two decimal places is?",
    "options": ["3.12", "3.14", "3.15", "3.16"],
    "correct": 1
  },
  {
    "id": 47,
    "subject": "Mathematics",
    "question": "Perimeter of a square of side 6 is?",
    "options": ["12", "18", "20", "24"],
    "correct": 3
  },
  {
    "id": 48,
    "subject": "Mathematics",
    "question": "The sum of first 10 natural numbers is?",
    "options": ["45", "50", "55", "60"],
    "correct": 2
  },
  {
    "id": 49,
    "subject": "Mathematics",
    "question": "The average of 5, 10, 15 is?",
    "options": ["8", "9", "10", "12"],
    "correct": 2
  },
  {
    "id": 50,
    "subject": "Mathematics",
    "question": "What is the cube of 7?",
    "options": ["343", "364", "336", "350"],
    "correct": 0
  },

   {
    "id": 51,
    "subject": "English",
    "question": "Choose the correct antonym of 'Generous':",
    "options": ["Kind", "Selfish", "Charitable", "Benevolent"],
    "correct": 1
  },
  {
    "id": 52,
    "subject": "English",
    "question": "Choose the correct spelling:",
    "options": ["Receeve", "Receive", "Recieve", "Receve"],
    "correct": 1
  },
  {
    "id": 53,
    "subject": "English",
    "question": "Which sentence is grammatically correct?",
    "options": [
      "She don’t like apples.",
      "She doesn’t likes apples.",
      "She doesn’t like apples.",
      "She not like apples."
    ],
    "correct": 2
  },
  {
    "id": 54,
    "subject": "English",
    "question": "Choose the correct synonym of 'Eager':",
    "options": ["Unwilling", "Keen", "Lazy", "Calm"],
    "correct": 1
  },
  {
    "id": 55,
    "subject": "English",
    "question": "Fill in the blank: He has been working here ______ 2010.",
    "options": ["Since", "For", "From", "By"],
    "correct": 0
  },
  {
    "id": 56,
    "subject": "English",
    "question": "Identify the correct passive voice: 'She writes a letter.'",
    "options": [
      "A letter is written by her.",
      "A letter was written by her.",
      "A letter wrote by her.",
      "A letter is being written by her."
    ],
    "correct": 0
  },
  {
    "id": 57,
    "subject": "English",
    "question": "Choose the correct one-word substitution: 'A person who writes dictionaries'.",
    "options": ["Philanthropist", "Lexicographer", "Biographer", "Novelist"],
    "correct": 1
  },
  {
    "id": 58,
    "subject": "English",
    "question": "Choose the correct synonym of 'Courage':",
    "options": ["Fear", "Bravery", "Cowardice", "Weakness"],
    "correct": 1
  },
  {
    "id": 59,
    "subject": "English",
    "question": "Fill in the blank: She is senior ____ me.",
    "options": ["Than", "To", "From", "With"],
    "correct": 1
  },
  {
    "id": 60,
    "subject": "English",
    "question": "Choose the correct meaning of the idiom: 'Break the ice'.",
    "options": [
      "To start a conversation",
      "To break something",
      "To feel cold",
      "To stop talking"
    ],
    "correct": 0
  },
  {
    "id": 61,
    "subject": "General Knowledge",
    "question": "Which planet is called the 'Morning Star'?",
    "options": ["Mars", "Venus", "Jupiter", "Mercury"],
    "correct": 1
  },
  {
    "id": 62,
    "subject": "General Knowledge",
    "question": "Which is the smallest continent in the world?",
    "options": ["Europe", "Australia", "Antarctica", "South America"],
    "correct": 1
  },
  {
    "id": 63,
    "subject": "General Knowledge",
    "question": "Who invented the telephone?",
    "options": [
      "Alexander Graham Bell",
      "Thomas Edison",
      "Nikola Tesla",
      "James Watt"
    ],
    "correct": 0
  },
  {
    "id": 64,
    "subject": "General Knowledge",
    "question": "Which gas do humans exhale?",
    "options": ["Oxygen", "Carbon dioxide", "Nitrogen", "Hydrogen"],
    "correct": 1
  },
  {
    "id": 65,
    "subject": "General Knowledge",
    "question": "The largest mammal in the world is?",
    "options": ["Elephant", "Blue Whale", "Shark", "Giraffe"],
    "correct": 1
  },
  {
    "id": 66,
    "subject": "General Knowledge",
    "question": "Which is the longest river in the world?",
    "options": ["Amazon", "Nile", "Yangtze", "Mississippi"],
    "correct": 1
  },
  {
    "id": 67,
    "subject": "General Knowledge",
    "question": "How many players are there in a cricket team?",
    "options": ["10", "11", "12", "9"],
    "correct": 1
  },
  {
    "id": 68,
    "subject": "General Knowledge",
    "question": "The Great Wall of China is approximately how long?",
    "options": [
      "13,000 miles",
      "1,300 miles",
      "30,000 miles",
      "300 miles"
    ],
    "correct": 0
  },
  {
    "id": 69,
    "subject": "General Knowledge",
    "question": "Which element has the chemical symbol 'O'?",
    "options": ["Gold", "Oxygen", "Osmium", "Oxide"],
    "correct": 1
  },
  {
    "id": 70,
    "subject": "General Knowledge",
    "question": "Which animal lays eggs?",
    "options": ["Cow", "Dog", "Platypus", "Cat"],
    "correct": 2
  },
  {
    "id": 71,
    "subject": "Mathematics",
    "question": "The value of 2³ is:",
    "options": ["6", "8", "9", "12"],
    "correct": 1
  },
  {
    "id": 72,
    "subject": "Mathematics",
    "question": "Simplify: 25 ÷ 5 × 2",
    "options": ["5", "10", "15", "20"],
    "correct": 1
  },
  {
    "id": 73,
    "subject": "Mathematics",
    "question": "The square root of 144 is:",
    "options": ["10", "11", "12", "13"],
    "correct": 2
  },
  {
    "id": 74,
    "subject": "Mathematics",
    "question": "Simplify: (3 + 2) × (4 – 1)",
    "options": ["5", "12", "15", "20"],
    "correct": 2
  },
  {
    "id": 75,
    "subject": "Mathematics",
    "question": "If x = 2, then 3x² = ?",
    "options": ["6", "9", "12", "18"],
    "correct": 2
  },
  {
    "id": 76,
    "subject": "Mathematics",
    "question": "Convert 0.75 into fraction:",
    "options": ["3/4", "2/3", "1/2", "5/6"],
    "correct": 0
  },
  {
    "id": 77,
    "subject": "Mathematics",
    "question": "What is the perimeter of a square with side 5 cm?",
    "options": ["10 cm", "15 cm", "20 cm", "25 cm"],
    "correct": 2
  },
  {
    "id": 78,
    "subject": "Mathematics",
    "question": "Simplify: 10% of 200",
    "options": ["10", "15", "20", "25"],
    "correct": 2
  },
  {
    "id": 79,
    "subject": "Mathematics",
    "question": "The average of 10 and 20 is:",
    "options": ["10", "15", "20", "25"],
    "correct": 1
  },
  {
    "id": 80,
    "subject": "Mathematics",
    "question": "If a triangle has angles 90°, 45°, the third angle is:",
    "options": ["30°", "35°", "45°", "60°"],
    "correct": 2
  },
  {
    "id": 81,
    "subject": "Pakistan Studies",
    "question": "Which agreement ended the 1965 war between India and Pakistan?",
    "options": ["Shimla Agreement", "Tashkent Agreement", "Delhi Pact", "Lucknow Pact"],
    "correct": 1
  },
  {
    "id": 82,
    "subject": "Pakistan Studies",
    "question": "Who was the first Governor of Punjab after independence?",
    "options": ["Francis Mudie", "Ayub Khan", "Iftikhar Hussain", "Khawaja Nazimuddin"],
    "correct": 0
  },
  {
    "id": 83,
    "subject": "Pakistan Studies",
    "question": "When was the Objectives Resolution passed?",
    "options": ["1947", "1948", "1949", "1950"],
    "correct": 2
  },
  {
    "id": 84,
    "subject": "Pakistan Studies",
    "question": "Who was Pakistan’s first Army Chief?",
    "options": ["General Ayub Khan", "General Frank Messervy", "General Muhammad Musa", "General Tikka Khan"],
    "correct": 1
  },
  {
    "id": 85,
    "subject": "Pakistan Studies",
    "question": "When did Pakistan conduct its first nuclear test?",
    "options": ["1996", "1997", "1998", "1999"],
    "correct": 2
  },
  {
    "id": 86,
    "subject": "Pakistan Studies",
    "question": "Which city is known as the ‘City of Saints’?",
    "options": ["Multan", "Lahore", "Karachi", "Peshawar"],
    "correct": 0
  },
  {
    "id": 87,
    "subject": "Pakistan Studies",
    "question": "The Pakistan Resolution was presented by?",
    "options": ["Allama Iqbal", "Liaquat Ali Khan", "Chaudhry Rehmat Ali", "A.K. Fazlul Haq"],
    "correct": 3
  },
  {
    "id": 88,
    "subject": "Pakistan Studies",
    "question": "When did General Ayub Khan become President of Pakistan?",
    "options": ["1956", "1958", "1960", "1962"],
    "correct": 1
  },
  {
    "id": 89,
    "subject": "Pakistan Studies",
    "question": "When did Pakistan become a republic?",
    "options": ["1947", "1956", "1962", "1973"],
    "correct": 1
  },
  {
    "id": 90,
    "subject": "Pakistan Studies",
    "question": "Who was the founder of Khilafat Movement?",
    "options": ["Maulana Muhammad Ali Johar", "Allama Iqbal", "Liaquat Ali Khan", "Sir Syed Ahmed Khan"],
    "correct": 0
  },
  {
    "id": 91,
    "subject": "Islamic Studies",
    "question": "How many Rakats are there in Fajr prayer?",
    "options": ["2", "4", "6", "8"],
    "correct": 1
  },
  {
    "id": 92,
    "subject": "Islamic Studies",
    "question": "Which Surah is known as the Heart of the Quran?",
    "options": ["Surah Yaseen", "Surah Rahman", "Surah Fatiha", "Surah Ikhlas"],
    "correct": 0
  },
  {
    "id": 93,
    "subject": "Islamic Studies",
    "question": "Who was known as Zulfiqar among the Sahaba?",
    "options": ["Hazrat Abu Bakr (RA)", "Hazrat Umar (RA)", "Hazrat Ali (RA)", "Hazrat Usman (RA)"],
    "correct": 2
  },
  {
    "id": 94,
    "subject": "Islamic Studies",
    "question": "Which Prophet was swallowed by a fish?",
    "options": ["Prophet Yunus (AS)", "Prophet Musa (AS)", "Prophet Isa (AS)", "Prophet Nuh (AS)"],
    "correct": 0
  },
  {
    "id": 95,
    "subject": "Islamic Studies",
    "question": "Which battle is known as the first battle of Islam?",
    "options": ["Battle of Uhud", "Battle of Badr", "Battle of Khandaq", "Battle of Hunain"],
    "correct": 1
  },
  {
    "id": 96,
    "subject": "Islamic Studies",
    "question": "Which Surah has no Bismillah?",
    "options": ["Surah Tauba", "Surah Rahman", "Surah Yaseen", "Surah Fatiha"],
    "correct": 0
  },
  {
    "id": 97,
    "subject": "Islamic Studies",
    "question": "How many years did Prophet Muhammad (PBUH) live in Makkah after Prophethood?",
    "options": ["10", "12", "13", "15"],
    "correct": 2
  },
  {
    "id": 98,
    "subject": "Islamic Studies",
    "question": "The angel of death is?",
    "options": ["Jibrael", "Israfil", "Mikail", "Izrael"],
    "correct": 3
  },
  {
    "id": 99,
    "subject": "Islamic Studies",
    "question": "Which Surah is called Umm-ul-Kitab?",
    "options": ["Surah Ikhlas", "Surah Fatiha", "Surah Baqarah", "Surah Yaseen"],
    "correct": 1
  },
  {
    "id": 100,
    "subject": "Islamic Studies",
    "question": "How many times is the name of Prophet Muhammad (PBUH) mentioned in the Quran?",
    "options": ["2", "3", "4", "5"],
    "correct": 2
  }
];

            }

            // Password validation
            $("#startButton").on("click", function() {
                const password = $("#passwordInput").val();
                if (password === TEST_CONFIG.password) {
                    $("#passwordScreen").hide();
                    $("#testInterface").removeClass("hidden");
                    initializeTest();
                } else {
                    $("#passwordError").removeClass("hidden");
                    $("#passwordInput").addClass("border-red-500").focus();
                }
            });

            $("#passwordInput").on("keypress", function(e) {
                if (e.which === 13) {
                    $("#startButton").click();
                }
            }).on("input", function() {
                $("#passwordError").addClass("hidden");
                $(this).removeClass("border-red-500");
            });

            // Initialize test
            function initializeTest() {
                generateQuestions();
                generateQuestionNavigation();
                loadQuestion(0);
                startTimer();
                testStartTime = new Date();
                updateProgress();
            }

            // Updated timer function
            function startTimer() {
                timerInterval = setInterval(function() {
                    // Calculate total minutes and remaining seconds
                    const totalMinutes = Math.floor(timeLeft / 60);
                    const seconds = timeLeft % 60;
                    
                    // Format the time display as "Time Left: MM:SS"
                    const timeDisplay = `Time Left: ${totalMinutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    
                    $("#timerText").text(timeDisplay);
                    
                    if (timeLeft <= 0) {
                        clearInterval(timerInterval);
                        submitTest();
                    }
                    timeLeft--;
                }, 1000);
            }

            // Load question
            function loadQuestion(index) {
                if (index >= 0 && index < TEST_CONFIG.totalQuestions) {
                    currentQuestion = index;
                    const q = questions[currentQuestion];
                    
                    $("#questionNumber").text(q.id);
                    $("#questionTitle").html(`Question ${q.id} of ${TEST_CONFIG.totalQuestions}`);
                    $("#questionSubject").text(q.subject);
                    $("#questionText").text(q.question);
                    
                    // Generate options
                    const optionsContainer = $("#optionsContainer");
                    optionsContainer.empty();
                    
                    const wasNotAttempted = isReviewMode && userAnswers[currentQuestion] === null;
                    
                    if (wasNotAttempted) {
                        const notAttemptedMessage = $(`
                            <div class="not-attempted-message">
                                <i data-lucide="help-circle" class="w-6 h-6 mx-auto mb-2"></i>
                                <p class="font-semibold">This question was not attempted</p>
                                <p class="text-sm mt-1">You did not select any answer for this question.</p>
                            </div>
                        `);
                        optionsContainer.append(notAttemptedMessage);
                        
                        q.options.forEach((option, i) => {
                            const isCorrect = i === q.correct; // Use q.correct for correct answer index
                            let optionClass = 'option-item not-attempted-option';
                            let reviewIndicator = '';
                            
                            if (isCorrect) {
                                optionClass += ' correct';
                                reviewIndicator = '<div class="review-indicator correct">✓</div>';
                            }
                            
                            const optionElement = $(`
                                <div class="${optionClass}" data-option="${i}">
                                    <input type="radio" name="answer" value="${i}" disabled>
                                    <div class="option-label">
                                        <div class="option-marker"></div>
                                        <span>${option}</span>
                                    </div>
                                    ${reviewIndicator}
                                </div>
                            `);
                            optionsContainer.append(optionElement);
                        });
                    } else {
                        q.options.forEach((option, i) => {
                            const isSelected = userAnswers[currentQuestion] === i;
                            const isCorrect = i === q.correct; // Use q.correct for correct answer index
                            const isUserAnswer = userAnswers[currentQuestion] === i;
                            
                            let optionClass = 'option-item';
                            let reviewIndicator = '';
                            
                            if (isReviewMode) {
                                if (isCorrect) {
                                    optionClass += ' correct';
                                    reviewIndicator = '<div class="review-indicator correct">✓</div>';
                                }
                                if (isUserAnswer && !isCorrect) {
                                    optionClass += ' incorrect user-answer';
                                    reviewIndicator = '<div class="review-indicator incorrect">✗</div>';
                                }
                                if (isUserAnswer && isCorrect) {
                                    reviewIndicator = '<div class="review-indicator correct">✓</div>';
                                }
                            } else if (isSelected) {
                                optionClass += ' selected';
                            }
                            
                            const optionElement = $(`
                                <div class="${optionClass}" data-option="${i}">
                                    <input type="radio" name="answer" value="${i}" ${isSelected ? 'checked' : ''} ${isReviewMode ? 'disabled' : ''}>
                                    <div class="option-label">
                                        <div class="option-marker"></div>
                                        <span>${option}</span>
                                    </div>
                                    ${reviewIndicator}
                                </div>
                            `);
                            optionsContainer.append(optionElement);
                        });
                    }
                    
                    lucide.createIcons();
                    updateNavigationButtons();
                    updateQuestionNavigation();
                }
            }

            // Generate question navigation
            function generateQuestionNavigation() {
                const nav = $("#questionNav");
                nav.empty();
                for (let i = 0; i < TEST_CONFIG.totalQuestions; i++) {
                    const navItem = $(`<div class="question-nav-item not-attempted" data-question="${i}">${i + 1}</div>`);
                    nav.append(navItem);
                }
            }

            // Update question navigation
            function updateQuestionNavigation() {
                $(".question-nav-item").removeClass("current answered not-attempted");
                for (let i = 0; i < TEST_CONFIG.totalQuestions; i++) {
                    const item = $(`.question-nav-item[data-question="${i}"]`);
                    if (i === currentQuestion) {
                        item.addClass("current");
                    } else if (userAnswers[i] !== null) {
                        item.addClass("answered");
                    } else {
                        item.addClass("not-attempted");
                    }
                }
            }

            // Update navigation buttons
            function updateNavigationButtons() {
                $("#prevButton").prop("disabled", currentQuestion === 0);
                
                if (isReviewMode) {
                    $("#nextButton").html('Next <i data-lucide="chevron-right" class="w-4 h-4 ml-2"></i>');
                    $("#clearButton").hide();
                } else {
                    $("#clearButton").show();
                    if (currentQuestion === TEST_CONFIG.totalQuestions - 1) {
                        $("#nextButton").html('<i data-lucide="send" class="w-4 h-4 mr-2"></i>Submit Test');
                    } else {
                        $("#nextButton").html('Next <i data-lucide="chevron-right" class="w-4 h-4 ml-2"></i>');
                    }
                }
                
                lucide.createIcons();
            }

            // Update progress
            function updateProgress() {
                const answered = userAnswers.filter(answer => answer !== null).length;
                const remaining = TEST_CONFIG.totalQuestions - answered;
                const percentage = Math.round((answered / TEST_CONFIG.totalQuestions) * 100);
                
                $("#progressAnswered").text(`${answered}/${TEST_CONFIG.totalQuestions}`);
                $("#progressRemaining").text(remaining);
                $("#progressPercentage").text(`${percentage}%`);
                $("#progressBar").css("width", `${percentage}%`);
            }

            // Event handlers
            $(document).on("click", ".option-item", function() {
                if (isReviewMode) return;
                const optionIndex = parseInt($(this).data("option"));
                userAnswers[currentQuestion] = optionIndex;
                $(".option-item").removeClass("selected");
                $(this).addClass("selected");
                $(this).find("input").prop("checked", true);
                updateProgress();
                updateQuestionNavigation();
            });

            $(document).on("click", ".question-nav-item", function() {
                const questionIndex = parseInt($(this).data("question"));
                loadQuestion(questionIndex);
            });

            $("#prevButton").on("click", function() {
                if (currentQuestion > 0) {
                    loadQuestion(currentQuestion - 1);
                }
            });

            $("#nextButton").on("click", function() {
                if (isReviewMode) {
                    if (currentQuestion < TEST_CONFIG.totalQuestions - 1) {
                        loadQuestion(currentQuestion + 1);
                    }
                } else {
                    if (currentQuestion < TEST_CONFIG.totalQuestions - 1) {
                        loadQuestion(currentQuestion + 1);
                    } else {
                        showConfirmationModal("Submit Test", "Are you sure you want to submit the test? This action cannot be undone.", function(confirmed) {
                            if (confirmed) {
                                submitTest();
                            }
                        });
                    }
                }
            });

            $("#clearButton").on("click", function() {
                if (isReviewMode) return;
                userAnswers[currentQuestion] = null;
                $(".option-item").removeClass("selected");
                $("input[name='answer']").prop("checked", false);
                updateProgress();
                updateQuestionNavigation();
            });

            $("#submitTestBtn").on("click", function() {
                if (isReviewMode) return;
                showConfirmationModal("Submit Test", "Are you sure you want to submit the test? This action cannot be undone.", function(confirmed) {
                    if (confirmed) {
                        submitTest();
                    }
                });
            });

            // Submit test
            function submitTest() {
                clearInterval(timerInterval);
                $("#loadingModal").removeClass("hidden").addClass("flex");
                setTimeout(() => {
                    calculateResults();
                    $("#loadingModal").addClass("hidden").removeClass("flex");
                    $("#resultModal").removeClass("hidden").addClass("flex");
                }, 2000);
            }

            // Calculate results
            function calculateResults() {
                let correct = 0;
                let incorrect = 0;
                let notAttempted = 0;
                
                for (let i = 0; i < TEST_CONFIG.totalQuestions; i++) {
                    if (userAnswers[i] === null) {
                        notAttempted++;
                    } else if (userAnswers[i] === questions[i].correct) { // Use questions[i].correct
                        correct++;
                    } else {
                        incorrect++;
                    }
                }
                
                const score = Math.round((correct / TEST_CONFIG.totalQuestions) * 100);
                const isQualified = score >= TEST_CONFIG.minimumPassingPercentage;
                
                $("#correctAnswers").text(correct);
                $("#incorrectAnswers").text(incorrect);
                $("#notAttempted").text(notAttempted);
                $("#finalScore").text(`${score}%`);
                
                // Update PDF content
                $("#pdfCorrect").text(correct);
                $("#pdfIncorrect").text(incorrect);
                $("#pdfNotAttempted").text(notAttempted);
                $("#pdfScore").text(`${score}%`);
                $("#pdfDate").text(new Date().toLocaleString());
                
                const qualificationDiv = $("#qualificationStatus");
                const pdfQualificationDiv = $("#pdfQualificationStatus");
                
                if (isQualified) {
                    $("#resultTitle").text("Congratulations! Test Passed!");
                    $("#resultMessage").text("You have successfully qualified for the entry test. Well done!");
                    $("#pdfStatus").text("QUALIFIED");
                    
                    const qualificationHTML = `<div class="bg-green-100 border-2 border-green-500 text-green-800 font-bold p-4 rounded-xl"><i data-lucide="check-circle" class="w-6 h-6 inline mr-2"></i>QUALIFIED - You have achieved the minimum 25% marks required</div>`;
                    qualificationDiv.html(qualificationHTML);
                    
                    pdfQualificationDiv.html(`<span style="color: #10b981; border-color: #10b981;">✓ QUALIFIED - You have achieved the minimum 25% marks required</span>`);
                } else {
                    $("#resultTitle").text("Test Not Qualified");
                    $("#resultMessage").text("Unfortunately, you did not achieve the minimum required marks.");
                    $("#pdfStatus").text("NOT QUALIFIED");
                    
                    const qualificationHTML = `<div class="bg-red-100 border-2 border-red-500 text-red-800 font-bold p-4 rounded-xl"><i data-lucide="x-circle" class="w-6 h-6 inline mr-2"></i>NOT QUALIFIED - Minimum 25% marks required (You scored ${score}%)</div>`;
                    qualificationDiv.html(qualificationHTML);
                    
                    pdfQualificationDiv.html(`<span style="color: #ef4444; border-color: #ef4444;">✗ NOT QUALIFIED - Minimum 25% marks required (You scored ${score}%)</span>`);
                }
                
                // Generate answer review content
                generateAnswerReview();
                generatePDFAnswerReview();
                
                lucide.createIcons();
            }
            
            // Generate answer review for print
            function generateAnswerReview() {
                const reviewContent = $("#answerReviewContent");
                reviewContent.empty();
                
                let reviewHTML = '';
                
                for (let i = 0; i < TEST_CONFIG.totalQuestions; i++) {
                    const question = questions[i];
                    const userAnswer = userAnswers[i];
                    const correctAnswer = question.correct;
                    
                    let statusIcon = '';
                    let statusText = '';
                    let statusClass = '';
                    
                    if (userAnswer === null) {
                        statusIcon = '⚪';
                        statusText = 'Not Attempted';
                        statusClass = 'text-gray-600';
                    } else if (userAnswer === correctAnswer) {
                        statusIcon = '✅';
                        statusText = 'Correct';
                        statusClass = 'text-green-600';
                    } else {
                        statusIcon = '❌';
                        statusText = 'Incorrect';
                        statusClass = 'text-red-600';
                    }
                    
                    reviewHTML += `
                        <div class="mb-6 p-4 border border-gray-200 rounded-lg">
                            <div class="flex items-center mb-3">
                                <span class="text-2xl mr-3">${statusIcon}</span>
                                <div>
                                    <h4 class="font-bold text-lg">Question ${i + 1}</h4>
                                    <span class="${statusClass} font-medium">${statusText}</span>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <p class="text-gray-800 font-medium">${question.question}</p>
                            </div>
                            
                            <div class="grid gap-2 mb-3">
                                ${question.options.map((option, optIndex) => {
                                    let optionClass = 'p-2 rounded border';
                                    let prefix = '';
                                    
                                    if (optIndex === correctAnswer) {
                                        optionClass += ' bg-green-100 border-green-300';
                                        prefix = '✓ (Correct) ';
                                    } else if (optIndex === userAnswer && userAnswer !== correctAnswer) {
                                        optionClass += ' bg-red-100 border-red-300';
                                        prefix = '✗ (Your Answer) ';
                                    } else {
                                        optionClass += ' bg-gray-50 border-gray-200';
                                    }
                                    
                                    return `<div class="${optionClass}">${prefix}${option}</div>`;
                                }).join('')}
                            </div>
                            
                            <div class="text-sm text-gray-600">
                                <strong>Subject:</strong> ${question.subject}
                            </div>
                        </div>
                    `;
                }
                
                reviewContent.html(reviewHTML);
            }
            
            // Generate PDF answer review
            function generatePDFAnswerReview() {
                const pdfReviewContent = $("#pdfReviewContent");
                pdfReviewContent.empty();
                
                let pdfReviewHTML = '';
                
                for (let i = 0; i < TEST_CONFIG.totalQuestions; i++) {
                    const question = questions[i];
                    const userAnswer = userAnswers[i];
                    const correctAnswer = question.correct;
                    
                    let statusIcon = '';
                    let statusText = '';
                    let statusColor = '';
                    
                    if (userAnswer === null) {
                        statusIcon = '⚪';
                        statusText = 'Not Attempted';
                        statusColor = '#6b7280';
                    } else if (userAnswer === correctAnswer) {
                        statusIcon = '✅';
                        statusText = 'Correct';
                        statusColor = '#10b981';
                    } else {
                        statusIcon = '❌';
                        statusText = 'Incorrect';
                        statusColor = '#ef4444';
                    }
                    
                    pdfReviewHTML += `
                        <div class="question-review-item" style="margin-bottom: 20px; padding: 15px; border: 1px solid #e5e7eb; border-radius: 8px; background: #f9fafb;">
                            <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                <span style="font-size: 18px; margin-right: 10px;">${statusIcon}</span>
                                <div>
                                    <h4 style="margin: 0; font-size: 16px; font-weight: bold;">Question ${i + 1}</h4>
                                    <span style="color: ${statusColor}; font-weight: 600; font-size: 14px;">${statusText}</span>
                                </div>
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <p style="margin: 0; color: #374151; font-weight: 500; line-height: 1.5;">${question.question}</p>
                            </div>
                            
                            <div style="margin-bottom: 10px;">
                                ${question.options.map((option, optIndex) => {
                                    let optionStyle = 'padding: 8px 12px; margin: 5px 0; border-radius: 6px; border: 1px solid;';
                                    let prefix = '';
                                    
                                    if (optIndex === correctAnswer) {
                                        optionStyle += ' background-color: #d1fae5; border-color: #10b981; color: #065f46;';
                                        prefix = '✓ (Correct Answer) ';
                                    } else if (optIndex === userAnswer && userAnswer !== correctAnswer) {
                                        optionStyle += ' background-color: #fee2e2; border-color: #ef4444; color: #991b1b;';
                                        prefix = '✗ (Your Answer) ';
                                    } else {
                                        optionStyle += ' background-color: #f3f4f6; border-color: #d1d5db; color: #374151;';
                                    }
                                    
                                    return `<div style="${optionStyle}">${prefix}${option}</div>`;
                                }).join('')}
                            </div>
                            
                            <div style="font-size: 12px; color: #6b7280; padding-top: 8px; border-top: 1px solid #e5e7eb;">
                                <strong>Subject:</strong> ${question.subject}
                            </div>
                        </div>
                    `;
                }
                
                pdfReviewContent.html(pdfReviewHTML);
            }

            // Theme toggle
            $("#themeToggle").on("click", function() {
                const body = $("body");
                if (body.hasClass("light-mode")) {
                    body.removeClass("light-mode").addClass("dark-mode");
                    $(this).find("i").attr("data-lucide", "moon");
                } else {
                    body.removeClass("dark-mode").addClass("light-mode");
                    $(this).find("i").attr("data-lucide", "sun");
                }
                lucide.createIcons();
            });

            // Result modal buttons
            $("#reviewAnswersBtn").on("click", function() {
                isReviewMode = true;
                $("#resultModal").addClass("hidden").removeClass("flex");
                $("#testInterface").removeClass("hidden");
                $("body").addClass("review-mode");
                
                $("#submitTestBtn").hide();
                $("#mainTimer").hide();
                
                $("header h1").text("Review Mode - UOS Mock Test");
                
                loadQuestion(0);
            });

            $("#restartTestBtn").on("click", function() {
                showConfirmationModal("Restart Test", "Are you sure you want to restart the test?", function(confirmed) {
                    if (confirmed) {
                        location.reload();
                    }
                });
            });

            $("#printResultBtn").on("click", function() {
                // Show loading
                $("#loadingModal").removeClass("hidden").addClass("flex");
                
                // Generate PDF using jsPDF
                setTimeout(() => {
                    generatePDF();
                    $("#loadingModal").addClass("hidden").removeClass("flex");
                }, 1000);
            });
            
            function generatePDF() {
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF('p', 'mm', 'a4');
                const pageWidth = pdf.internal.pageSize.getWidth();
                const pageHeight = pdf.internal.pageSize.getHeight();
                const margin = 20;
                let y = margin;
                
                // Colors
                const colors = {
                    primary: [34, 40, 85],
                    success: [16, 185, 129],
                    successLight: [209, 250, 229],
                    error: [239, 68, 68],
                    errorLight: [254, 226, 226],
                    warning: [245, 158, 11],
                    warningLight: [254, 243, 199],
                    gray: [107, 114, 128],
                    lightGray: [243, 244, 246],
                    white: [255, 255, 255]
                };
                
                function addBox(x, yPos, width, height, fillColor, borderColor = null) {
                    pdf.setFillColor(fillColor[0], fillColor[1], fillColor[2]);
                    if (borderColor) {
                        pdf.setDrawColor(borderColor[0], borderColor[1], borderColor[2]);
                        pdf.setLineWidth(0.5);
                        pdf.rect(x, yPos, width, height, 'FD');
                    } else {
                        pdf.rect(x, yPos, width, height, 'F');
                    }
                }
                
                // Professional Header
                addBox(0, 0, pageWidth, 50, colors.primary);
                
                // Logo area with UOS logo placeholder
                //addBox(margin, 12, 26, 26, colors.white);
                // Add UOS logo image (embedded as base64 to avoid CORS issues)
const logoBase64 = 'data:image/png;base64,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';
                pdf.addImage(logoBase64, 'PNG', margin + 1, 14, 24, 24);
                
                // Title section
                pdf.setTextColor(255, 255, 255);
                pdf.setFontSize(18);
                pdf.text('UNIVERSITY OF SINDH', margin + 35, 20);
                pdf.setFontSize(14);
                pdf.text('Mock Test Results Report', margin + 35, 30);
                pdf.setFontSize(10);
                pdf.text('Batch 2k26 | Generated: ' + new Date().toLocaleDateString(), margin + 35, 38);
                
                y = 60;
                
                // Test Information Box
                addBox(margin, y, pageWidth - 2 * margin, 20, colors.lightGray, colors.gray);
                pdf.setTextColor(colors.primary[0], colors.primary[1], colors.primary[2]);
                pdf.setFontSize(12);
                pdf.setFont('helvetica', 'bold');
                pdf.text('TEST INFORMATION', margin + 5, y + 8);
                
                pdf.setTextColor(colors.gray[0], colors.gray[1], colors.gray[2]);
                pdf.setFontSize(9);
                pdf.setFont('helvetica', 'normal');
                pdf.text('Duration: 90 Minutes | Total Questions: 100 | Passing Marks: 25%', margin + 5, y + 16);
                
                y += 30;
                
                // Performance Summary
                addBox(margin, y, pageWidth - 2 * margin, 60, colors.lightGray, colors.primary);
                addBox(margin + 3, y + 3, pageWidth - 2 * margin - 6, 12, colors.primary);
                
                pdf.setTextColor(255, 255, 255);
                pdf.setFontSize(12);
                pdf.setFont('helvetica', 'bold');
                pdf.text('PERFORMANCE SUMMARY', pageWidth/2, y + 11, { align: 'center' });
                
                y += 20;
                
                const correct = parseInt($('#correctAnswers').text()) || 0;
                const incorrect = parseInt($('#incorrectAnswers').text()) || 0;
                const notAttempted = parseInt($('#notAttempted').text()) || 0;
                const score = $('#finalScore').text() || '0%';
                const status = $('#pdfStatus').text() || 'NOT QUALIFIED';
                
                // Statistics Cards with proper spacing
                const cardWidth = 35;
                const spacing = 12;
                const totalWidth = (cardWidth * 4) + (spacing * 3);
                const startX = margin + ((pageWidth - 2 * margin - totalWidth) / 2);
                
                // Correct Card
                addBox(startX, y, cardWidth, 25, colors.successLight, colors.success);
                pdf.setTextColor(colors.success[0], colors.success[1], colors.success[2]);
                pdf.setFontSize(16);
                pdf.setFont('helvetica', 'bold');
                pdf.text(correct.toString(), startX + cardWidth/2, y + 12, { align: 'center' });
                pdf.setFontSize(8);
                pdf.text('CORRECT', startX + cardWidth/2, y + 20, { align: 'center' });
                
                // Incorrect Card
                const x2 = startX + cardWidth + spacing;
                addBox(x2, y, cardWidth, 25, colors.errorLight, colors.error);
                pdf.setTextColor(colors.error[0], colors.error[1], colors.error[2]);
                pdf.setFontSize(16);
                pdf.setFont('helvetica', 'bold');
                pdf.text(incorrect.toString(), x2 + cardWidth/2, y + 12, { align: 'center' });
                pdf.setFontSize(8);
                pdf.text('INCORRECT', x2 + cardWidth/2, y + 20, { align: 'center' });
                
                // Not Attempted Card
                const x3 = x2 + cardWidth + spacing;
                addBox(x3, y, cardWidth, 25, colors.warningLight, colors.warning);
                pdf.setTextColor(colors.warning[0], colors.warning[1], colors.warning[2]);
                pdf.setFontSize(16);
                pdf.setFont('helvetica', 'bold');
                pdf.text(notAttempted.toString(), x3 + cardWidth/2, y + 12, { align: 'center' });
                pdf.setFontSize(8);
                pdf.text('SKIPPED', x3 + cardWidth/2, y + 20, { align: 'center' });
                
                // Score Card
                const x4 = x3 + cardWidth + spacing;
                addBox(x4, y, cardWidth, 25, [219, 234, 254], colors.primary);
                pdf.setTextColor(colors.primary[0], colors.primary[1], colors.primary[2]);
                pdf.setFontSize(16);
                pdf.setFont('helvetica', 'bold');
                pdf.text(score, x4 + cardWidth/2, y + 12, { align: 'center' });
                pdf.setFontSize(8);
                pdf.text('SCORE', x4 + cardWidth/2, y + 20, { align: 'center' });
                
                y += 35;
                
                // Qualification Status
                const statusColor = status === 'QUALIFIED' ? colors.success : colors.error;
                const statusBg = status === 'QUALIFIED' ? colors.successLight : colors.errorLight;
                
                addBox(margin + 15, y, pageWidth - 2 * margin - 30, 15, statusBg, statusColor);
                pdf.setTextColor(statusColor[0], statusColor[1], statusColor[2]);
                pdf.setFontSize(11);
                pdf.setFont('helvetica', 'bold');
                
                const statusText = status === 'QUALIFIED' ? 
                    'QUALIFIED - Congratulations! You have passed the test' : 
                    'NOT QUALIFIED - Minimum 25% marks required';
                pdf.text(statusText, pageWidth/2, y + 10, { align: 'center' });
                
                y += 25;
                
                // Answer Review Header
                addBox(margin, y, pageWidth - 2 * margin, 15, colors.primary);
                pdf.setTextColor(255, 255, 255);
                pdf.setFontSize(13);
                pdf.setFont('helvetica', 'bold');
                pdf.text('DETAILED ANSWER REVIEW', pageWidth/2, y + 10, { align: 'center' });
                
                y += 20;
                
                // Legend with color boxes
                addBox(margin, y, pageWidth - 2 * margin, 12, colors.lightGray, colors.gray);
                pdf.setTextColor(0, 0, 0);
                pdf.setFontSize(9);
                pdf.setFont('helvetica', 'bold');
                pdf.text('Legend:', margin + 8, y + 8);
                
                // Legend items
                addBox(margin + 45, y + 3, 6, 6, colors.success);
                pdf.setFontSize(8);
                pdf.text('Correct', margin + 55, y + 8);
                
                addBox(margin + 85, y + 3, 6, 6, colors.error);
                pdf.text('Incorrect', margin + 95, y + 8);
                
                addBox(margin + 130, y + 3, 6, 6, colors.warning);
                pdf.text('Not Attempted', margin + 140, y + 8);
                
                y += 18;
                
                // Questions with enhanced styling
                for (let i = 0; i < TEST_CONFIG.totalQuestions; i++) {
                    const question = questions[i];
                    const userAnswer = userAnswers[i];
                    const correctAnswer = question.correct;
                    
                    // Check page break
                    if (y > pageHeight - 70) {
                        pdf.addPage();
                        // Header for new page
                        addBox(0, 0, pageWidth, 25, colors.primary);
                        pdf.setTextColor(255, 255, 255);
                        pdf.setFontSize(12);
                        pdf.setFont('helvetica', 'bold');
                        pdf.text('UOS Mock Test Results - Answer Review', pageWidth/2, 15, { align: 'center' });
                        y = 35;
                    }
                    
                    let statusText, statusColor, bgColor;
                    
                    if (userAnswer === null) {
                        statusText = 'NOT ATTEMPTED';
                        statusColor = colors.warning;
                        bgColor = colors.white; // Changed to white
                    } else if (userAnswer === correctAnswer) {
                        statusText = 'CORRECT';
                        statusColor = colors.success;
                        bgColor = colors.successLight;
                    } else {
                        statusText = 'INCORRECT';
                        statusColor = colors.error;
                        bgColor = colors.errorLight;
                    }
                    
                    // Question container
                    const questionHeight = 45 + (question.options.length * 6);
                    addBox(margin, y, pageWidth - 2 * margin, questionHeight, bgColor, statusColor);
                    
                    // Question header
                    addBox(margin + 3, y + 3, pageWidth - 2 * margin - 6, 10, statusColor);
                    pdf.setTextColor(255, 255, 255);
                    pdf.setFontSize(9);
                    pdf.setFont('helvetica', 'bold');
                    pdf.text(`QUESTION ${i + 1} - ${statusText}`, pageWidth/2, y + 10, { align: 'center' });
                    
                    y += 16;
                    
                    // Subject info
                    pdf.setTextColor(colors.gray[0], colors.gray[1], colors.gray[2]);
                    pdf.setFontSize(8);
                    pdf.setFont('helvetica', 'normal');
                    pdf.text(`Subject: ${question.subject} | Type: Multiple Choice`, margin + 8, y);
                    
                    y += 8;
                    
                    // Question text
                    pdf.setTextColor(0, 0, 0);
                    pdf.setFontSize(9);
                    pdf.setFont('helvetica', 'normal');
                    const questionLines = pdf.splitTextToSize(question.question, pageWidth - 2 * margin - 16);
                    questionLines.forEach(line => {
                        pdf.text(line, margin + 8, y);
                        y += 5;
                    });
                    
                    y += 3;
                    
                    // Options with enhanced styling and proper alignment
                    question.options.forEach((option, optIndex) => {
                        let prefix = '';
                        let optionColor = [0, 0, 0];
                        let showBackground = false;
                        
                        if (optIndex === correctAnswer) {
                            prefix = 'CORRECT: ';
                            optionColor = colors.success;
                            showBackground = true;
                            // Properly aligned green background for correct answer - moved up 3 points
                            addBox(margin + 8, y - 4, pageWidth - 2 * margin - 16, 6, colors.successLight, colors.success);
                        } else if (optIndex === userAnswer && userAnswer !== correctAnswer) {
                            prefix = 'YOUR CHOICE: ';
                            optionColor = colors.error;
                            showBackground = true;
                            // Properly aligned red background for wrong choice - moved up 3 points
                            addBox(margin + 8, y - 4, pageWidth - 2 * margin - 16, 6, colors.errorLight, colors.error);
                        }
                        
                        pdf.setTextColor(optionColor[0], optionColor[1], optionColor[2]);
                        pdf.setFontSize(8);
                        pdf.setFont('helvetica', 'normal');
                        
                        const optionText = `${prefix}${option}`;
                        const optionLines = pdf.splitTextToSize(optionText, pageWidth - 2 * margin - 20);
                        optionLines.forEach((line, lineIndex) => {
                            pdf.text(line, margin + 10, y + (lineIndex * 4));
                        });
                        y += Math.max(optionLines.length * 4, 6);
                    });
                    
                    y += 8;
                }
                
                // Professional Footer
                addBox(0, pageHeight - 18, pageWidth, 18, colors.primary);
                pdf.setTextColor(255, 255, 255);
                pdf.setFontSize(8);
                pdf.setFont('helvetica', 'normal');
                pdf.text('University of Sindh - Mock Test Platform', margin, pageHeight - 10);
                pdf.text(`Generated: ${new Date().toLocaleString()}`, pageWidth - margin - 60, pageHeight - 10);
                pdf.text(`Page ${pdf.internal.getNumberOfPages()}`, pageWidth/2, pageHeight - 6, { align: 'center' });
                
                // Save with timestamp
                const timestamp = new Date().toISOString().slice(0, 19).replace(/:/g, '-');
                pdf.save(`UOS_MockTest_Results_${timestamp}.pdf`);
            }

            // Initialize
            console.log('%c🚀 UOS Mock Test Platform - Advanced Edition', 'color: #6366f1; font-size: 18px; font-weight: bold;');
            $("body").addClass("light-mode"); // Changed to light-mode by default
        });
    </script>
</body>
</html>
